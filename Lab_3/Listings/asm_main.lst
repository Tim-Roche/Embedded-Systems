


ARM Macro Assembler    Page 1 


    1 00000000 40004C04 
                       P1DIR   EQU              0x40004C04
    2 00000000 40004C02 
                       P1OUT   EQU              0x40004C02
    3 00000000         
    4 00000000 40004C05 
                       P2DIR   EQU              0x40004C05
    5 00000000 40004C03 
                       P2OUT   EQU              0x40004C03
    6 00000000         
    7 00000000 40004C06 
                       P1REN   EQU              0x40004C06
    8 00000000 40004C07 
                       P2REN   EQU              0x40004C07
    9 00000000         
   10 00000000 00000001 
                       redMASK EQU              0x1
   11 00000000 00000002 
                       greenMASK
                               EQU              0x2
   12 00000000 00000004 
                       blueMASK
                               EQU              0x4
   13 00000000         
   14 00000000 00000002 
                       tstMASK EQU              0x2
   15 00000000 00000008 
                       ackMASK EQU              0x8
   16 00000000 00000040 
                       flaMASK EQU              0x40
   17 00000000 00000080 
                       olaMASK EQU              0x80
   18 00000000         
   19 00000000                 THUMB
   20 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   21 00000000                 EXPORT           asm_main
   22 00000000         
   23 00000000         asm_main
   24 00000000         ;INPUTS:  P1.1 (TST) 
   25 00000000         ;         P1.4 (ACK) 
   26 00000000         ;         P2.6 (FLA) 
   27 00000000         ;         P2.7 (OLA)
   28 00000000         ;OUTPUTS: P1.0 RED 
   29 00000000         ;         P2.1 GREEN 
   30 00000000         ;         P2.2 BLUE
   31 00000000         ; make ALL INPUTS
   32 00000000         
   33 00000000         ;Set Inputs
   34 00000000 4836            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   35 00000002 7801            LDRB             R1, [R0]    ; 
   36 00000004 F021 0102       BIC              R1, tstMASK ; set bit 0
   37 00000008 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   38 0000000A         
   39 0000000A 4834            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   40 0000000C 7801            LDRB             R1, [R0]    ; 



ARM Macro Assembler    Page 2 


   41 0000000E F021 0108       BIC              R1, ackMASK ; set bit 0
   42 00000012 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   43 00000014         
   44 00000014 4832            LDR              R0, =P2DIR  ; load Dir Reg in R
                                                            1
   45 00000016 7801            LDRB             R1, [R0]    ; 
   46 00000018 F021 0140       BIC              R1, flaMASK ; set bit 0
   47 0000001C 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   48 0000001E         
   49 0000001E 4830            LDR              R0, =P2DIR  ; load Dir Reg in R
                                                            1
   50 00000020 7801            LDRB             R1, [R0]    ; 
   51 00000022 F021 0180       BIC              R1, olaMASK ; set bit 0
   52 00000026 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   53 00000028         
   54 00000028         ;Set Outputs
   55 00000028 482C            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   56 0000002A 7801            LDRB             R1, [R0]    ; 
   57 0000002C F041 0101       ORR              R1, redMASK ; set bit 0
   58 00000030 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg  
   59 00000032         
   60 00000032 482B            LDR              R0, =P2DIR  ; load Dir Reg in R
                                                            1
   61 00000034 7801            LDRB             R1, [R0]    ; 
   62 00000036 F041 0102       ORR              R1, greenMASK ; set bit 0
   63 0000003A 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg 
   64 0000003C         
   65 0000003C 4828            LDR              R0, =P2DIR  ; load Dir Reg in R
                                                            1
   66 0000003E 7801            LDRB             R1, [R0]    ; 
   67 00000040 F041 0104       ORR              R1, blueMASK ; set bit 0
   68 00000044 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg 
   69 00000046         
   70 00000046         ;Set Pull-up Resistors
   71 00000046 4827            LDR              R0, =P1REN  ; load Dir Reg in R
                                                            1
   72 00000048 7801            LDRB             R1, [R0]    ; 
   73 0000004A F041 0102       ORR              R1, tstMASK ; set bit 0
   74 0000004E 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   75 00000050         
   76 00000050 4824            LDR              R0, =P1REN  ; load Dir Reg in R
                                                            1
   77 00000052 7801            LDRB             R1, [R0]    ; 
   78 00000054 F041 0108       ORR              R1, ackMASK ; set bit 0
   79 00000058 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   80 0000005A         
   81 0000005A 4823            LDR              R0, =P2REN  ; load Dir Reg in R
                                                            1
   82 0000005C 7801            LDRB             R1, [R0]    ; 
   83 0000005E F041 0140       ORR              R1, flaMASK ; set bit 0



ARM Macro Assembler    Page 3 


   84 00000062 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   85 00000064         
   86 00000064 4820            LDR              R0, =P2REN  ; load Dir Reg in R
                                                            1
   87 00000066 7801            LDRB             R1, [R0]    ; 
   88 00000068 F041 0180       ORR              R1, olaMASK ; set bit 0
   89 0000006C 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg  
   90 0000006E         
   91 0000006E         loop
   92 0000006E         ;RED led (p1.0) on!
   93 0000006E 481F            LDR              R0, =P1OUT  ; load Output Data 
                                                            Reg in R1
   94 00000070 7801            LDRB             R1, [R0]
   95 00000072 F041 0101       ORR              R1, redMASK ; set bit 0
   96 00000076 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   97 00000078         
   98 00000078         ; delay for 0.5 second
   99 00000078 481D            LDR              R0, =500000
  100 0000007A F000 F82C       BL               delayMs
  101 0000007E         
  102 0000007E         ;RED led (p1.0) off!
  103 0000007E 481B            LDR              R0, =P1OUT  ; load Output Data 
                                                            Reg in R1
  104 00000080 7801            LDRB             R1, [R0]
  105 00000082 F06F 0201       MVN              R2, redMASK ; load complement o
                                                            f bit 0 mask
  106 00000086 EA01 0102       AND              R1, R2      ; clear bit 0
  107 0000008A 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
  108 0000008C         
  109 0000008C         ; delay for 0.5 second
  110 0000008C 4818            LDR              R0, =500000
  111 0000008E F000 F822       BL               delayMs
  112 00000092         
  113 00000092         ;GREEN led (p2.1) on!
  114 00000092 4818            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
  115 00000094 7801            LDRB             R1, [R0]
  116 00000096 F041 0102       ORR              R1, greenMASK ; set bit 0
  117 0000009A 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
  118 0000009C         
  119 0000009C         ; delay for 0.5 second
  120 0000009C 4814            LDR              R0, =500000
  121 0000009E F000 F81A       BL               delayMs
  122 000000A2         
  123 000000A2         ;GREEN led (p2.1) off!
  124 000000A2 4814            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
  125 000000A4 7801            LDRB             R1, [R0]
  126 000000A6 F06F 0202       MVN              R2, greenMASK ; load complement
                                                             of bit 0 mask
  127 000000AA EA01 0102       AND              R1, R2      ; clear bit 0
  128 000000AE 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
  129 000000B0         



ARM Macro Assembler    Page 4 


  130 000000B0         ; delay for 0.5 second
  131 000000B0 480F            LDR              R0, =500000
  132 000000B2 F000 F810       BL               delayMs
  133 000000B6         
  134 000000B6         ;BLUE led (p2.2) on!
  135 000000B6 480F            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
  136 000000B8 7801            LDRB             R1, [R0]
  137 000000BA F041 0104       ORR              R1, blueMASK ; set bit 0
  138 000000BE 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg 
  139 000000C0         
  140 000000C0         ; delay for 0.5 second
  141 000000C0 480B            LDR              R0, =500000
  142 000000C2 F000 F808       BL               delayMs
  143 000000C6         
  144 000000C6         ;BLUE led (p2.1) off!
  145 000000C6 480B            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
  146 000000C8 7801            LDRB             R1, [R0]
  147 000000CA F06F 0204       MVN              R2, blueMASK ; load complement 
                                                            of bit 0 mask
  148 000000CE EA01 0102       AND              R1, R2      ; clear bit 0
  149 000000D2 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
  150 000000D4         
  151 000000D4 E7CB            B                loop
  152 000000D6         
  153 000000D6         
  154 000000D6         
  155 000000D6         ; This subroutine performs a delay of n ms (for 3 MHz CP
                       U clock). 
  156 000000D6         ; n is the value in R0.
  157 000000D6         delayMs
  158 000000D6 3801    L1      SUBS             R0, #1
  159 000000D8 D1FD            BNE              L1
  160 000000DA 4770            BX               LR
  161 000000DC         
  162 000000DC                 ALIGN
  163 000000DC                 END
              40004C04 
              40004C05 
              40004C06 
              40004C07 
              40004C02 
              0007A120 
              40004C03 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\asm_main.d -o.\objects\asm_main.o -I.\RTE\_Target_1 -
IC:\Users\TimRo\AppData\Local\Arm\Packs\ARM\CMSIS\5.6.0\CMSIS\Core\Include -IC:
\Users\TimRo\AppData\Local\Arm\Packs\TexasInstruments\MSP432P4xx_DFP\3.2.6\Devi
ce\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 528"
 --predefine="_RTE_ SETA 1" --predefine="__MSP432P401R__ SETA 1" --list=.\listi
ngs\asm_main.lst asm_main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 20 in file asm_main.s
   Uses
      None
Comment: .text unused
L1 000000D6

Symbol: L1
   Definitions
      At line 158 in file asm_main.s
   Uses
      At line 159 in file asm_main.s
Comment: L1 used once
asm_main 00000000

Symbol: asm_main
   Definitions
      At line 23 in file asm_main.s
   Uses
      At line 21 in file asm_main.s
Comment: asm_main used once
delayMs 000000D6

Symbol: delayMs
   Definitions
      At line 157 in file asm_main.s
   Uses
      At line 100 in file asm_main.s
      At line 111 in file asm_main.s
      At line 121 in file asm_main.s
      At line 132 in file asm_main.s
      At line 142 in file asm_main.s

loop 0000006E

Symbol: loop
   Definitions
      At line 91 in file asm_main.s
   Uses
      At line 151 in file asm_main.s
Comment: loop used once
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

P1DIR 40004C04

Symbol: P1DIR
   Definitions
      At line 1 in file asm_main.s
   Uses
      At line 34 in file asm_main.s
      At line 39 in file asm_main.s
      At line 55 in file asm_main.s

P1OUT 40004C02

Symbol: P1OUT
   Definitions
      At line 2 in file asm_main.s
   Uses
      At line 93 in file asm_main.s
      At line 103 in file asm_main.s

P1REN 40004C06

Symbol: P1REN
   Definitions
      At line 7 in file asm_main.s
   Uses
      At line 71 in file asm_main.s
      At line 76 in file asm_main.s

P2DIR 40004C05

Symbol: P2DIR
   Definitions
      At line 4 in file asm_main.s
   Uses
      At line 44 in file asm_main.s
      At line 49 in file asm_main.s
      At line 60 in file asm_main.s
      At line 65 in file asm_main.s

P2OUT 40004C03

Symbol: P2OUT
   Definitions
      At line 5 in file asm_main.s
   Uses
      At line 114 in file asm_main.s
      At line 124 in file asm_main.s
      At line 135 in file asm_main.s
      At line 145 in file asm_main.s

P2REN 40004C07

Symbol: P2REN
   Definitions
      At line 8 in file asm_main.s
   Uses
      At line 81 in file asm_main.s
      At line 86 in file asm_main.s




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

ackMASK 00000008

Symbol: ackMASK
   Definitions
      At line 15 in file asm_main.s
   Uses
      At line 41 in file asm_main.s
      At line 78 in file asm_main.s

blueMASK 00000004

Symbol: blueMASK
   Definitions
      At line 12 in file asm_main.s
   Uses
      At line 67 in file asm_main.s
      At line 137 in file asm_main.s
      At line 147 in file asm_main.s

flaMASK 00000040

Symbol: flaMASK
   Definitions
      At line 16 in file asm_main.s
   Uses
      At line 46 in file asm_main.s
      At line 83 in file asm_main.s

greenMASK 00000002

Symbol: greenMASK
   Definitions
      At line 11 in file asm_main.s
   Uses
      At line 62 in file asm_main.s
      At line 116 in file asm_main.s
      At line 126 in file asm_main.s

olaMASK 00000080

Symbol: olaMASK
   Definitions
      At line 17 in file asm_main.s
   Uses
      At line 51 in file asm_main.s
      At line 88 in file asm_main.s

redMASK 00000001

Symbol: redMASK
   Definitions
      At line 10 in file asm_main.s
   Uses
      At line 57 in file asm_main.s
      At line 95 in file asm_main.s
      At line 105 in file asm_main.s

tstMASK 00000002




ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

Symbol: tstMASK
   Definitions
      At line 14 in file asm_main.s
   Uses
      At line 36 in file asm_main.s
      At line 73 in file asm_main.s

13 symbols
355 symbols in table
