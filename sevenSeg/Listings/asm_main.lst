


ARM Macro Assembler    Page 1 


    1 00000000         ;port 1 Pin Direction Register
    2 00000000 40004C04 
                       P1DIR   EQU              0x40004C04
    3 00000000         ; Port 1 pin Output Register 
    4 00000000 40004C02 
                       P1OUT   EQU              0x40004C02
    5 00000000         ; Port 2 Pin Direction Register
    6 00000000 40004C05 
                       P2DIR   EQU              0x40004C05
    7 00000000         ; Port 2 Pin Output Register 
    8 00000000 40004C03 
                       P2OUT   EQU              0x40004C03
    9 00000000         
   10 00000000 40004C25 
                       P4DIR   EQU              0x40004C25
   11 00000000         ; Port 2 Pin Output Register 
   12 00000000 40004C23 
                       P4OUT   EQU              0x40004C23
   13 00000000         
   14 00000000 40004C06 
                       P1REN   EQU              0x40004C06
   15 00000000 40004C07 
                       P2REN   EQU              0x40004C07
   16 00000000         
   17 00000000         ;Defining Inputs 
   18 00000000 40004C00 
                       P1IN    EQU              0x40004C00
   19 00000000 40004C01 
                       P2IN    EQU              0x40004C01
   20 00000000         
   21 00000000 00000002 
                       upMASK  EQU              0x2         ;p1.1
   22 00000000 00000010 
                       downMASK
                               EQU              0x10        ;p1.4
   23 00000000 00000040 
                       rollMASK
                               EQU              0x40        ;p1.6
   24 00000000         
   25 00000000         ;olaMASK EQU 0x80
   26 00000000                 THUMB
   27 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   28 00000000                 EXPORT           asm_main
   29 00000000         
   30 00000000         asm_main
   31 00000000 4850            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   32 00000002 7801            LDRB             R1, [R0]    ;
   33 00000004 F021 0140       BIC              R1, rollMASK ; set bit 0
   34 00000008 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   35 0000000A         
   36 0000000A         
   37 0000000A 484E            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   38 0000000C 7801            LDRB             R1, [R0]    ;
   39 0000000E F021 0140       BIC              R1, rollMASK ; set bit 0
   40 00000012 7001            STRB             R1, [R0]    ; store back to Dir



ARM Macro Assembler    Page 2 


                                                             Reg
   41 00000014         
   42 00000014         
   43 00000014 484B            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   44 00000016 7801            LDRB             R1, [R0]    ;
   45 00000018 F021 0140       BIC              R1, rollMASK ; set bit 0
   46 0000001C 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   47 0000001E         
   48 0000001E 4849            LDR              R0, =P1DIR  ; load Dir Reg in R
                                                            1
   49 00000020 7801            LDRB             R1, [R0]    ;
   50 00000022 F021 0140       BIC              R1, rollMASK ; set bit 0
   51 00000026 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   52 00000028         
   53 00000028 4847            LDR              R0, =P4DIR  ; load Dir Reg in R
                                                            1
   54 0000002A 7801            LDRB             R1, [R0]    ; 
   55 0000002C F041 01FF       ORR              R1, 0xFF    ; set bit 0
   56 00000030 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   57 00000032         
   58 00000032 4846            LDR              R0, =P1REN  ; load Dir Reg in R
                                                            1
   59 00000034 7801            LDRB             R1, [R0]    ; 
   60 00000036 F041 0102       ORR              R1, upMASK  ; set bit 0
   61 0000003A 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   62 0000003C         
   63 0000003C 4843            LDR              R0, =P1REN  ; load Dir Reg in R
                                                            1
   64 0000003E 7801            LDRB             R1, [R0]    ; 
   65 00000040 F041 0110       ORR              R1, downMASK ; set bit 0
   66 00000044 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   67 00000046         
   68 00000046 4841            LDR              R0, =P1REN  ; load Dir Reg in R
                                                            1
   69 00000048 7801            LDRB             R1, [R0]    ; 
   70 0000004A F041 0140       ORR              R1, rollMASK ; set bit 0
   71 0000004E 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg 
   72 00000050         
   73 00000050         ;Set Pull-up Resistors set as outputs
   74 00000050 483F            LDR              R0, =P1OUT  ; load Dir Reg in R
                                                            1
   75 00000052 7801            LDRB             R1, [R0]    ; 
   76 00000054 F041 0102       ORR              R1, upMASK  ; set bit 0
   77 00000058 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   78 0000005A         
   79 0000005A 483D            LDR              R0, =P1OUT  ; load Dir Reg in R
                                                            1
   80 0000005C 7801            LDRB             R1, [R0]    ; 
   81 0000005E F041 0110       ORR              R1, downMASK ; set bit 0
   82 00000062 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg



ARM Macro Assembler    Page 3 


   83 00000064         
   84 00000064 483A            LDR              R0, =P1OUT  ; load Dir Reg in R
                                                            1
   85 00000066 7801            LDRB             R1, [R0]    ; 
   86 00000068 F041 0140       ORR              R1, rollMASK ; set bit 0
   87 0000006C 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   88 0000006E         
   89 0000006E F04F 0308       LDR              r3,=8
   90 00000072 F000 F840       BL               translate
   91 00000076         
   92 00000076         ;Fix this later
   93 00000076         checkUP
   94 00000076         ; Getting Pin State
   95 00000076 4837            LDR              R0, =P1IN
   96 00000078 7801            LDRB             R1, [R0]
   97 0000007A F011 0F02       TST              R1, upMASK
   98 0000007E D10F            BNE              checkDOWN
   99 00000080 F103 0301       ADD              r3, r3, #1
  100 00000084 F000 F821       BL               topToZero
  101 00000088         
  102 00000088 4832    upwait  LDR              R0, =P1IN
  103 0000008A 7801            LDRB             R1, [R0]
  104 0000008C F011 0F02       TST              R1, upMASK
  105 00000090 D0FA            BEQ              upwait
  106 00000092         
  107 00000092 F000 F830       BL               translate
  108 00000096         
  109 00000096 F04F 0064       LDR              R0, =100
  110 0000009A F000 F84F       BL               delayMs
  111 0000009E E7FF            B                checkDOWN
  112 000000A0         
  113 000000A0         checkDOWN
  114 000000A0 482C            LDR              R0, =P1IN
  115 000000A2 7801            LDRB             R1, [R0]
  116 000000A4 F011 0F10       TST              R1, downMASK
  117 000000A8 D12A            BNE              checkROLL
  118 000000AA F000 F812       BL               zeroToTop
  119 000000AE F1A3 0301       SUB              r3, r3, #1
  120 000000B2         
  121 000000B2         
  122 000000B2 4828    dwait   LDR              R0, =P1IN
  123 000000B4 7801            LDRB             R1, [R0]
  124 000000B6 F011 0F10       TST              R1, downMASK
  125 000000BA D0FA            BEQ              dwait
  126 000000BC         
  127 000000BC F000 F81B       BL               translate
  128 000000C0 F04F 0064       LDR              R0, =100
  129 000000C4 F000 F83A       BL               delayMs
  130 000000C8 E01A            B                checkROLL
  131 000000CA         
  132 000000CA         
  133 000000CA         topToZero
  134 000000CA 2B10            CMP              r3, #16
  135 000000CC BF08 2300       MOVEQ            r3, 0
  136 000000D0 4770            BX               LR          ;branch with exit t
                                                            o lr
  137 000000D2         
  138 000000D2         zeroToTop



ARM Macro Assembler    Page 4 


  139 000000D2 2B00            CMP              r3, #0
  140 000000D4 BF08 2310       MOVEQ            r3, #16
  141 000000D8 4770            BX               LR
  142 000000DA         
  143 000000DA         incUP
  144 000000DA F103 0301       ADD              r3, r3, #1
  145 000000DE F7FF FFF4       BL               topToZero
  146 000000E2 F000 F808       BL               translate
  147 000000E6 4770            BX               LR
  148 000000E8         
  149 000000E8         incDOWN
  150 000000E8 F7FF FFF3       BL               zeroToTop
  151 000000EC F1A3 0301       SUB              r3, r3, #1
  152 000000F0 F000 F801       BL               translate
  153 000000F4 4770            BX               LR
  154 000000F6         
  155 000000F6         ;r0 is the input
  156 000000F6         translate
  157 000000F6 4A18            LDR              R2,=TRANSLATOR
  158 000000F8 5CD1            LDRB             R1,[R2, R3]
  159 000000FA 4A18            LDR              R2,=P4OUT
  160 000000FC 7011            STRB             R1, [R2]
  161 000000FE 4770            BX               LR
  162 00000100         
  163 00000100         
  164 00000100         checkROLL
  165 00000100 4814            LDR              R0, =P1IN
  166 00000102 7801            LDRB             R1, [R0]
  167 00000104 F011 0F40       TST              R1, rollMASK ;IF R1 is 1, butto
                                                            n is NOT being pres
                                                            sed 
  168 00000108 D1B5            BNE              checkUP     ;That means 
  169 0000010A         ;Here if button was pressed
  170 0000010A         
  171 0000010A 2B00    roll    CMP              r3, #0
  172 0000010C D100            BNE              notZ
  173 0000010E E7B2            B                checkUP
  174 00000110 2B08    notZ    CMP              r3, #8
  175 00000112 DA09            BGE              rU
  176 00000114         rD
  177 00000114         ; Down
  178 00000114 F7FF FFDD       BL               zeroToTop
  179 00000118 F1A3 0301       SUB              r3, r3, #1
  180 0000011C         
  181 0000011C F7FF FFEB       BL               translate
  182 00000120         
  183 00000120 480F            LDR              R0, =500000
  184 00000122 F000 F80B       BL               delayMs
  185 00000126 E7F0            B                roll
  186 00000128         rU
  187 00000128         ; Up
  188 00000128 F103 0301       ADD              r3, r3, #1
  189 0000012C F7FF FFCD       BL               topToZero
  190 00000130         
  191 00000130 F7FF FFE1       BL               translate
  192 00000134         
  193 00000134 480A            LDR              R0, =500000
  194 00000136 F000 F801       BL               delayMs
  195 0000013A E7E6            B                roll



ARM Macro Assembler    Page 5 


  196 0000013C         
  197 0000013C         delayMs
  198 0000013C 3801    L1      SUBS             R0, #1      ; inner loop
  199 0000013E D1FD            BNE              L1
  200 00000140 4770            BX               LR
  201 00000142         
  202 00000142 00 00 40004C04 
              40004C25 
              40004C06 
              40004C02 
              40004C00 
              00000000 
              40004C23 
              0007A120         AREA             mydata, DATA, READWRITE
  203 00000000         ;         0        1      2       3      4        5     
                         6       7       8       9        A      b       c     
                        d        e       f
  204 00000000 C0 F9 A4 
              B0 99 92 
              82 F8 80 
              90 88 83 
              C6 A1 86 
              8E       TRANSLATOR
                               DCB              ~(0x3F),~(0x06),~(0x5B),~(0x4F)
,~(0x66),~(0x6D),~(0x7D),~(0x07),~(0x7F),~(0x6F),~(0x77),~(0x7C),~(0x39),~(0x5E
),~(0x79),~(0x71)
  205 00000010         ;~(0x3F),~(0x30),~(0x6D),~(0x79),~(0x66),~(0x6D),~(0x7D)
                       ,~(0x07),~(0x7F),~(0x6F),~(0x77),~(0x7C),~(0x39),~(0x5E)
                       ,~(0x79),~(0x71)
  206 00000010                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\asm_main.d -o.\objects\asm_main.o -I.\RTE\_Target_1 -
IC:\Users\TimRo\AppData\Local\Arm\Packs\ARM\CMSIS\5.6.0\CMSIS\Core\Include -IC:
\Users\TimRo\AppData\Local\Arm\Packs\TexasInstruments\MSP432P4xx_DFP\3.2.6\Devi
ce\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 528"
 --predefine="_RTE_ SETA 1" --predefine="__MSP432P401R__ SETA 1" --list=.\listi
ngs\asm_main.lst asm_main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 27 in file asm_main.s
   Uses
      None
Comment: .text unused
L1 0000013C

Symbol: L1
   Definitions
      At line 198 in file asm_main.s
   Uses
      At line 199 in file asm_main.s
Comment: L1 used once
asm_main 00000000

Symbol: asm_main
   Definitions
      At line 30 in file asm_main.s
   Uses
      At line 28 in file asm_main.s
Comment: asm_main used once
checkDOWN 000000A0

Symbol: checkDOWN
   Definitions
      At line 113 in file asm_main.s
   Uses
      At line 98 in file asm_main.s
      At line 111 in file asm_main.s

checkROLL 00000100

Symbol: checkROLL
   Definitions
      At line 164 in file asm_main.s
   Uses
      At line 117 in file asm_main.s
      At line 130 in file asm_main.s

checkUP 00000076

Symbol: checkUP
   Definitions
      At line 93 in file asm_main.s
   Uses
      At line 168 in file asm_main.s
      At line 173 in file asm_main.s

delayMs 0000013C

Symbol: delayMs
   Definitions
      At line 197 in file asm_main.s
   Uses
      At line 110 in file asm_main.s
      At line 129 in file asm_main.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 184 in file asm_main.s
      At line 194 in file asm_main.s

dwait 000000B2

Symbol: dwait
   Definitions
      At line 122 in file asm_main.s
   Uses
      At line 125 in file asm_main.s
Comment: dwait used once
incDOWN 000000E8

Symbol: incDOWN
   Definitions
      At line 149 in file asm_main.s
   Uses
      None
Comment: incDOWN unused
incUP 000000DA

Symbol: incUP
   Definitions
      At line 143 in file asm_main.s
   Uses
      None
Comment: incUP unused
notZ 00000110

Symbol: notZ
   Definitions
      At line 174 in file asm_main.s
   Uses
      At line 172 in file asm_main.s
Comment: notZ used once
rD 00000114

Symbol: rD
   Definitions
      At line 176 in file asm_main.s
   Uses
      None
Comment: rD unused
rU 00000128

Symbol: rU
   Definitions
      At line 186 in file asm_main.s
   Uses
      At line 175 in file asm_main.s
Comment: rU used once
roll 0000010A

Symbol: roll
   Definitions
      At line 171 in file asm_main.s
   Uses
      At line 185 in file asm_main.s
      At line 195 in file asm_main.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols


topToZero 000000CA

Symbol: topToZero
   Definitions
      At line 133 in file asm_main.s
   Uses
      At line 100 in file asm_main.s
      At line 145 in file asm_main.s
      At line 189 in file asm_main.s

translate 000000F6

Symbol: translate
   Definitions
      At line 156 in file asm_main.s
   Uses
      At line 90 in file asm_main.s
      At line 107 in file asm_main.s
      At line 127 in file asm_main.s
      At line 146 in file asm_main.s
      At line 152 in file asm_main.s
      At line 181 in file asm_main.s
      At line 191 in file asm_main.s

upwait 00000088

Symbol: upwait
   Definitions
      At line 102 in file asm_main.s
   Uses
      At line 105 in file asm_main.s
Comment: upwait used once
zeroToTop 000000D2

Symbol: zeroToTop
   Definitions
      At line 138 in file asm_main.s
   Uses
      At line 118 in file asm_main.s
      At line 150 in file asm_main.s
      At line 178 in file asm_main.s

18 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

TRANSLATOR 00000000

Symbol: TRANSLATOR
   Definitions
      At line 204 in file asm_main.s
   Uses
      At line 157 in file asm_main.s
Comment: TRANSLATOR used once
mydata 00000000

Symbol: mydata
   Definitions
      At line 202 in file asm_main.s
   Uses
      None
Comment: mydata unused
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

P1DIR 40004C04

Symbol: P1DIR
   Definitions
      At line 2 in file asm_main.s
   Uses
      At line 31 in file asm_main.s
      At line 37 in file asm_main.s
      At line 43 in file asm_main.s
      At line 48 in file asm_main.s

P1IN 40004C00

Symbol: P1IN
   Definitions
      At line 18 in file asm_main.s
   Uses
      At line 95 in file asm_main.s
      At line 102 in file asm_main.s
      At line 114 in file asm_main.s
      At line 122 in file asm_main.s
      At line 165 in file asm_main.s

P1OUT 40004C02

Symbol: P1OUT
   Definitions
      At line 4 in file asm_main.s
   Uses
      At line 74 in file asm_main.s
      At line 79 in file asm_main.s
      At line 84 in file asm_main.s

P1REN 40004C06

Symbol: P1REN
   Definitions
      At line 14 in file asm_main.s
   Uses
      At line 58 in file asm_main.s
      At line 63 in file asm_main.s
      At line 68 in file asm_main.s

P2DIR 40004C05

Symbol: P2DIR
   Definitions
      At line 6 in file asm_main.s
   Uses
      None
Comment: P2DIR unused
P2IN 40004C01

Symbol: P2IN
   Definitions
      At line 19 in file asm_main.s
   Uses
      None
Comment: P2IN unused



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

P2OUT 40004C03

Symbol: P2OUT
   Definitions
      At line 8 in file asm_main.s
   Uses
      None
Comment: P2OUT unused
P2REN 40004C07

Symbol: P2REN
   Definitions
      At line 15 in file asm_main.s
   Uses
      None
Comment: P2REN unused
P4DIR 40004C25

Symbol: P4DIR
   Definitions
      At line 10 in file asm_main.s
   Uses
      At line 53 in file asm_main.s
Comment: P4DIR used once
P4OUT 40004C23

Symbol: P4OUT
   Definitions
      At line 12 in file asm_main.s
   Uses
      At line 159 in file asm_main.s
Comment: P4OUT used once
downMASK 00000010

Symbol: downMASK
   Definitions
      At line 22 in file asm_main.s
   Uses
      At line 65 in file asm_main.s
      At line 81 in file asm_main.s
      At line 116 in file asm_main.s
      At line 124 in file asm_main.s

rollMASK 00000040

Symbol: rollMASK
   Definitions
      At line 23 in file asm_main.s
   Uses
      At line 33 in file asm_main.s
      At line 39 in file asm_main.s
      At line 45 in file asm_main.s
      At line 50 in file asm_main.s
      At line 70 in file asm_main.s
      At line 86 in file asm_main.s
      At line 167 in file asm_main.s

upMASK 00000002




ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

Symbol: upMASK
   Definitions
      At line 21 in file asm_main.s
   Uses
      At line 60 in file asm_main.s
      At line 76 in file asm_main.s
      At line 97 in file asm_main.s
      At line 104 in file asm_main.s

13 symbols
370 symbols in table
